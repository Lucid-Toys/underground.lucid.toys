{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nvar _jsxFileName = \"/Users/dte/Repos/underground.lucid.toys/components/Timeline.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nconst List = styled.ul`\n  list-style-type: none;\n  flex: 0 0 12rem;\n  padding: 1rem;\n  display: flex;\n  justify-content: stretch;\n  flex-direction: column;\n  font-size: 0.75em;\n\n  li {\n    flex: 1;\n  }\n\n  li:nth-child(even) {\n    opacity: 0.5;\n  }\n`;\nconst ClockListItem = styled.li`\n  position: absolute;\n  top: ${props => props.progress}%;\n  display: flex;\n  padding: 0.5em;\n  padding-left: 1.25em;\n  margin: -0.5em;\n  margin-left: -1.25em;\n  color: ${props => props.busy ? \"var(--danger)\" : \"var(--foreground)\"};\n  background-color: var(--background);\n  z-index: 1;\n  box-shadow: 0 4px 2px var(--background);\n  border-top: 1px solid;\n  transition: 0.3s ease;\n\n  p + p {\n    margin-left: 0.75em;\n  }\n\n  ::after {\n    content: \"•\";\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 1rem;\n    margin-top: -0.5rem;\n  }\n`;\n\nfunction Clock(props) {\n  const timer = useNewTimer(new Date());\n  const interval = 1000 * 60 * 60 * 24;\n  const startOfDay = Math.floor(_Date$now() / interval) * interval;\n  const elapsed = Math.abs(timer - startOfDay) / interval;\n  const hours = timer.getHours();\n  let isBusy = false;\n\n  if (hours >= 8 && hours < 11 || hours >= 4 && hours < 7) {\n    isBusy = true;\n  }\n\n  return __jsx(ClockListItem, {\n    busy: isBusy,\n    progress: elapsed * 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, timer.toLocaleTimeString(undefined, {\n    timeStyle: \"short\"\n  })), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, isBusy ? \"Usually very busy\" : \"Usually not very busy\"));\n}\n\nfunction useNewTimer(currentDate) {\n  const [date, setDate] = React.useState(currentDate);\n  React.useEffect(() => {\n    var timerID = setInterval(() => tick(), 1000);\n    return function cleanup() {\n      clearInterval(timerID);\n    };\n  });\n\n  function tick() {\n    setDate(new Date());\n  }\n\n  return date;\n}\n\nexport default function Timeline() {\n  const timestamps = Array(24).fill(undefined).map((_, i) => `${i}`.padStart(2, \"0\"));\n  const currentTime = _Date$now;\n  return __jsx(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(Clock, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), timestamps.map(timestamp => __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, timestamp, \":00\"), __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, timestamp, \":30\"))));\n}","map":{"version":3,"sources":["/Users/dte/Repos/underground.lucid.toys/components/Timeline.js"],"names":["styled","List","ul","ClockListItem","li","props","progress","busy","Clock","timer","useNewTimer","Date","interval","startOfDay","Math","floor","elapsed","abs","hours","getHours","isBusy","toLocaleTimeString","undefined","timeStyle","currentDate","date","setDate","React","useState","useEffect","timerID","setInterval","tick","cleanup","clearInterval","Timeline","timestamps","Array","fill","map","_","i","padStart","currentTime","timestamp"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AAEA,MAAMC,IAAI,GAAGD,MAAM,CAACE,EAAG;;;;;;;;;;;;;;;;CAAvB;AAkBA,MAAMC,aAAa,GAAGH,MAAM,CAACI,EAAG;;SAEvBC,KAAK,IAAIA,KAAK,CAACC,QAAS;;;;;;WAMtBD,KAAK,IAAKA,KAAK,CAACE,IAAN,GAAa,eAAb,GAA+B,mBAAqB;;;;;;;;;;;;;;;;;;;CARzE;;AA6BA,SAASC,KAAT,CAAeH,KAAf,EAAsB;AACpB,QAAMI,KAAK,GAAGC,WAAW,CAAC,IAAIC,IAAJ,EAAD,CAAzB;AACA,QAAMC,QAAQ,GAAG,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAlC;AACA,QAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAW,cAAaH,QAAxB,IAAoCA,QAAvD;AACA,QAAMI,OAAO,GAAGF,IAAI,CAACG,GAAL,CAASR,KAAK,GAAGI,UAAjB,IAA+BD,QAA/C;AACA,QAAMM,KAAK,GAAGT,KAAK,CAACU,QAAN,EAAd;AACA,MAAIC,MAAM,GAAG,KAAb;;AAEA,MAAKF,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAG,EAAvB,IAA+BA,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAG,CAAzD,EAA6D;AAC3DE,IAAAA,MAAM,GAAG,IAAT;AACD;;AAED,SACE,MAAC,aAAD;AAAe,IAAA,IAAI,EAAEA,MAArB;AAA6B,IAAA,QAAQ,EAAEJ,OAAO,GAAG,GAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIP,KAAK,CAACY,kBAAN,CAAyBC,SAAzB,EAAoC;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAApC,CAAJ,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIH,MAAM,GAAG,mBAAH,GAAyB,uBAAnC,CAFF,CADF;AAMD;;AAED,SAASV,WAAT,CAAqBc,WAArB,EAAkC;AAChC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBC,KAAK,CAACC,QAAN,CAAeJ,WAAf,CAAxB;AAEAG,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AACpB,QAAIC,OAAO,GAAGC,WAAW,CAAC,MAAMC,IAAI,EAAX,EAAe,IAAf,CAAzB;AACA,WAAO,SAASC,OAAT,GAAmB;AACxBC,MAAAA,aAAa,CAACJ,OAAD,CAAb;AACD,KAFD;AAGD,GALD;;AAOA,WAASE,IAAT,GAAgB;AACdN,IAAAA,OAAO,CAAC,IAAIf,IAAJ,EAAD,CAAP;AACD;;AAED,SAAOc,IAAP;AACD;;AAED,eAAe,SAASU,QAAT,GAAoB;AACjC,QAAMC,UAAU,GAAGC,KAAK,CAAC,EAAD,CAAL,CAChBC,IADgB,CACXhB,SADW,EAEhBiB,GAFgB,CAEZ,CAACC,CAAD,EAAIC,CAAJ,KAAW,GAAEA,CAAE,EAAL,CAAOC,QAAP,CAAgB,CAAhB,EAAmB,GAAnB,CAFE,CAAnB;AAIA,QAAMC,WAAW,YAAjB;AAEA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGP,UAAU,CAACG,GAAX,CAAeK,SAAS,IACvB,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,SAAL,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,SAAL,QAFF,CADD,CAFH,CADF;AAWD","sourcesContent":["import styled from \"@emotion/styled\"\n\nconst List = styled.ul`\n  list-style-type: none;\n  flex: 0 0 12rem;\n  padding: 1rem;\n  display: flex;\n  justify-content: stretch;\n  flex-direction: column;\n  font-size: 0.75em;\n\n  li {\n    flex: 1;\n  }\n\n  li:nth-child(even) {\n    opacity: 0.5;\n  }\n`\n\nconst ClockListItem = styled.li`\n  position: absolute;\n  top: ${props => props.progress}%;\n  display: flex;\n  padding: 0.5em;\n  padding-left: 1.25em;\n  margin: -0.5em;\n  margin-left: -1.25em;\n  color: ${props => (props.busy ? \"var(--danger)\" : \"var(--foreground)\")};\n  background-color: var(--background);\n  z-index: 1;\n  box-shadow: 0 4px 2px var(--background);\n  border-top: 1px solid;\n  transition: 0.3s ease;\n\n  p + p {\n    margin-left: 0.75em;\n  }\n\n  ::after {\n    content: \"•\";\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 1rem;\n    margin-top: -0.5rem;\n  }\n`\n\nfunction Clock(props) {\n  const timer = useNewTimer(new Date())\n  const interval = 1000 * 60 * 60 * 24\n  const startOfDay = Math.floor(Date.now() / interval) * interval\n  const elapsed = Math.abs(timer - startOfDay) / interval\n  const hours = timer.getHours()\n  let isBusy = false\n\n  if ((hours >= 8 && hours < 11) || (hours >= 4 && hours < 7)) {\n    isBusy = true\n  }\n\n  return (\n    <ClockListItem busy={isBusy} progress={elapsed * 100}>\n      <p>{timer.toLocaleTimeString(undefined, { timeStyle: \"short\" })}</p>\n      <p>{isBusy ? \"Usually very busy\" : \"Usually not very busy\"}</p>\n    </ClockListItem>\n  )\n}\n\nfunction useNewTimer(currentDate) {\n  const [date, setDate] = React.useState(currentDate)\n\n  React.useEffect(() => {\n    var timerID = setInterval(() => tick(), 1000)\n    return function cleanup() {\n      clearInterval(timerID)\n    }\n  })\n\n  function tick() {\n    setDate(new Date())\n  }\n\n  return date\n}\n\nexport default function Timeline() {\n  const timestamps = Array(24)\n    .fill(undefined)\n    .map((_, i) => `${i}`.padStart(2, \"0\"))\n\n  const currentTime = Date.now\n\n  return (\n    <List>\n      <Clock />\n      {timestamps.map(timestamp => (\n        <React.Fragment>\n          <li>{timestamp}:00</li>\n          <li>{timestamp}:30</li>\n        </React.Fragment>\n      ))}\n    </List>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}